PKG_CPPFLAGS = \
-I ../thirdParty/cget/include \
-I ../thirdParty/cget/lib \
-D SQLITE_ENABLE_COLUMN_METADATA -O3 -fpic -Wall -Wextra -pedantic  -DARMA_64BIT_WORD=1

CXX_STD = CXX11

PKG_LIBS = $(ZLIB_LIB) $(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS) -L../thirdParty/cget/lib/ -L../thirdParty/cget/lib64/ -lsuperlu -lzstd

PKG_LIBS += $(shell ${R_HOME}/bin/Rscript -e "RcppParallel::RcppParallelLibs()")

#OBJECTS = RcppExports.o test.o matrixMultiEigen.o SAIGE_fitGLMM_fast.o SAIGE_readDosage_bgen_new.o SAIGE_readDosage_vcf.o SAIGE_GENE_readDosageMatrix_vcf.o $(wildcard ../thirdParty/cget/lib64/*.a) 

OBJECTS = RcppExports.o getMem.o SPA_binary.o SPA_survival.o SPA.o utils.o ScoreTest.o test.o matrixMultiEigen.o SAIGE_fitGLMM_fast.o SAIGE_readDosage_bgen_new.o SAIGE_readDosage_vcf.o SAIGE_GENE_readDosageMatrix_vcf.o $(wildcard ../thirdParty/cget/lib64/*.a)

all: $(SHLIB)
$(SHLIB): ${OBJECTS} Makevars
